@import 'tailwindcss';
@plugin "daisyui" {
  themes:
    light --default,
    dark --prefersdark;
}

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* Nuxt top indicator */
.nuxt-progress {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  z-index: 9999;
  transition:
    width 0.2s ease,
    opacity 0.2s ease;
}

/* Light tema → primary */
:root[data-theme='light'] .nuxt-progress {
  background: oklch(var(--p));
  box-shadow: 0 0 10px oklch(var(--p));
}

/* Dark tema → secondary (možeš promeniti u --p ako želiš) */
:root[data-theme='dark'] .nuxt-progress {
  background: oklch(var(--s));
  box-shadow: 0 0 10px oklch(var(--s));
}

.nuxt-progress {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  z-index: 9999;
}
:root[data-theme='light'] .nuxt-progress {
  background: oklch(var(--p));
  box-shadow: 0 0 10px oklch(var(--p));
}
:root[data-theme='dark'] .nuxt-progress {
  background: oklch(var(--s));
  box-shadow: 0 0 10px oklch(var(--s));
}

.maplibregl-popup-close-button {
  @apply px-2;
}

.location-list {
  @apply flex flex-nowrap mt-4 gap-2 overflow-auto;
}

.page-content-top {
  @apply p-4 min-h-72;
}

html[data-theme='dark'] {
  body {
    @apply bg-base-200 text-base-content;
  }

  .maplibregl-popup-content {
    @apply text-white bg-gray-800;
  }

  .maplibregl-popup-anchor-bottom .maplibregl-popup-tip,
  .maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip,
  .maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip {
    @apply border-t-gray-800;
  }

  .maplibregl-popup-anchor-top .maplibregl-popup-tip,
  .maplibregl-popup-anchor-top-right .maplibregl-popup-tip,
  .maplibregl-popup-anchor-top-left .maplibregl-popup-tip {
    @apply border-b-gray-800;
  }

  .maplibregl-popup-anchor-left .maplibregl-popup-tip {
    @apply border-r-gray-800;
  }

  .maplibregl-popup-anchor-right .maplibregl-popup-tip {
    @apply border-l-gray-800;
  }

  /* Kontrast + vidljivost u dark temi */
  .card,
  .modal-box,
  .stats {
    @apply border border-base-300/80 bg-base-100/95;
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.06),
      0 10px 24px -16px rgba(255, 255, 255, 0.35),
      0 18px 40px -22px rgba(0, 0, 0, 0.6);
  }

  .table {
    @apply border border-base-300/80 bg-base-100/95;
  }

  .table thead tr {
    @apply bg-base-200/80;
  }

  .table tbody tr {
    @apply border-base-300/60;
  }

  .input,
  .select,
  .textarea {
    @apply border-base-300/80 bg-base-100/95;
  }

  .alert {
    @apply border border-base-300/80 bg-base-100/95;
  }

  .badge {
    @apply border border-base-300/80;
  }

  .btn-ghost {
    @apply border border-base-300/70;
  }
}

html[data-theme='dark'] .app-logo {
  filter: invert(1) brightness(1.6) contrast(1.4) saturate(0)
    drop-shadow(0 1px 8px rgba(255, 255, 255, 0.35)) !important;
}
html[data-theme='dark'] img[src*='/logo.png'],
html[data-theme='dark'] img[src$='/logo.png'],
html[data-theme='dark'] img[alt='logo'] {
  filter: invert(1) brightness(1.6) contrast(1.4) saturate(0)
    drop-shadow(0 1px 8px rgba(255, 255, 255, 0.35)) !important;
}

html[data-theme='dark'] img[src*='/icons/icon-32.png'],
html[data-theme='dark'] img[src*='/icons/icon-64.png'],
html[data-theme='dark'] img[src*='/icons/icon-128.png'],
html[data-theme='dark'] img[src*='/icons/icon-192.png'],
html[data-theme='dark'] img[src*='/icons/icon-256.png'] {
  filter: invert(1) brightness(1.6) contrast(1.4) saturate(0)
    drop-shadow(0 1px 8px rgba(255, 255, 255, 0.35));
}

html[data-theme='dark'] .avatar > div {
  border-color: rgba(255, 255, 255, 0.22);
}
